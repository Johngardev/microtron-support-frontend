<!-- src/app/auth/forgot-password/forgot-password.component.html -->
<div class="forgot-password-container">
  <div class="login-card">
    <div class="login-header">
      <div class="flex justify-center mb-4">
        <img class="h-16" src="../../assets/logoMicrotron.jpg" alt="Logo">
      </div>
      <h2>Recuperar contraseña</h2>
      <p>Te enviaremos un enlace para restablecer tu contraseña</p>
    </div>

    @if (!isSubmitted()) {
    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-group">
        <label for="email">Correo electrónico</label>
        <input 
          type="email" 
          id="email" 
          formControlName="email"
          [class.error]="email?.invalid && (email?.dirty || email?.touched)"
        >
        @if (email?.invalid && (email?.dirty || email?.touched)) {
          <div class="error-message">
            @if (email?.errors?.['required']) {
              <span>El correo es requerido</span>
            }
            
          </div>
        }
      </div>

      <button 
        type="submit" 
        class="login-button" 
      >
        @if (isLoading()) {
          <span class="loading-spinner"></span>
        } @else {
          <span>Enviar enlace</span>
        }
      </button>

      @if (errorMessage()) {
        <div class="error-message server-error">
          {{ errorMessage() }}
        </div>
      }

      <div class="text-center mt-4">
        <a  class="text-primary-600 hover:text-primary-700">
          ← Volver al inicio de sesión
        </a>
      </div>
    </form>
    } @else {
      <div class="success-message">
        <div class="success-icon">✓</div>
        <h3>¡Correo enviado!</h3>
        <p>Hemos enviado un enlace a tu correo electrónico para restablecer tu contraseña.</p>
        <button 
          (click)="isSubmitted.set(false)" 
          class="mt-4 login-button"
        >
          Reenviar correo
        </button>
      </div>
    }
  </div>
</div>
